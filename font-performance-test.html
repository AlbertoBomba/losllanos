<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Rendimiento de Fuentes - Los Llanos</title>
    
    <!-- Fuentes optimizadas -->
    <link rel="preload" href="public/fonts/oswald/TK3iWkUHHAIjg752HT8Ghe4.woff2" as="font" type="font/woff2" crossorigin="anonymous" importance="high">
    <link rel="preload" href="public/fonts/montserrat/JTUSjIg1_i6t8kCHKm459W1hyzbi.woff2" as="font" type="font/woff2" crossorigin="anonymous" importance="high">
    <link rel="stylesheet" href="resources/css/fonts.css">
    
    <style>
        body {
            font-family: 'Figtree', system-ui, -apple-system, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .header {
            font-family: 'Oswald', Arial Black, sans-serif;
            font-weight: 600;
            font-size: 3rem;
            color: #2c3e50;
            margin-bottom: 20px;
            line-height: 1.1;
        }
        
        .subheader {
            font-family: 'Oswald', Arial Black, sans-serif;
            font-weight: 400;
            font-size: 1.8rem;
            color: #34495e;
            margin: 30px 0 15px;
        }
        
        .button {
            font-family: 'Montserrat', Helvetica Neue, sans-serif;
            font-weight: 600;
            padding: 15px 30px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            margin: 10px;
            transition: background 0.3s;
        }
        
        .button:hover {
            background: #2980b9;
        }
        
        .content {
            font-family: 'Figtree', system-ui, sans-serif;
            font-weight: 400;
            font-size: 1rem;
            color: #555;
            margin-bottom: 20px;
        }
        
        .performance-info {
            background: #ecf0f1;
            padding: 20px;
            border-radius: 5px;
            margin-top: 30px;
        }
        
        .metric {
            display: inline-block;
            margin: 10px 15px;
            padding: 10px;
            background: white;
            border-radius: 5px;
            text-align: center;
            min-width: 120px;
        }
        
        .metric-value {
            font-family: 'Montserrat', Helvetica Neue, sans-serif;
            font-weight: 600;
            font-size: 1.5rem;
            color: #27ae60;
        }
        
        .metric-label {
            font-family: 'Figtree', system-ui, sans-serif;
            font-size: 0.9rem;
            color: #7f8c8d;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="header">Test de Rendimiento - Los Llanos</h1>
        
        <h2 class="subheader">Optimización de Fuentes Web</h2>
        
        <div class="content">
            Este es un test para validar el rendimiento de las fuentes optimizadas. 
            Se utilizan las estrategias font-display: swap para títulos y botones, 
            y font-display: optional para contenido de texto.
        </div>
        
        <button class="button">Botón Montserrat</button>
        <button class="button">Acción Principal</button>
        
        <h3 class="subheader">Contenido de Prueba</h3>
        
        <div class="content">
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor 
            incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis 
            nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. 
            Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore 
            eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, 
            sunt in culpa qui officia deserunt mollit anim id est laborum.
        </div>
        
        <div class="content">
            Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium 
            doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore 
            veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim 
            ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia 
            consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt.
        </div>
        
        <div class="performance-info">
            <h3 class="subheader">Métricas de Rendimiento</h3>
            <div class="metric">
                <div class="metric-value" id="fcp">-</div>
                <div class="metric-label">FCP (ms)</div>
            </div>
            <div class="metric">
                <div class="metric-value" id="lcp">-</div>
                <div class="metric-label">LCP (ms)</div>
            </div>
            <div class="metric">
                <div class="metric-value" id="cls">-</div>
                <div class="metric-label">CLS</div>
            </div>
            <div class="metric">
                <div class="metric-value" id="fonts">-</div>
                <div class="metric-label">Fuentes Cargadas</div>
            </div>
        </div>
    </div>

    <script>
        // Métricas de rendimiento
        window.addEventListener('load', function() {
            // First Contentful Paint
            new PerformanceObserver((entryList) => {
                for (const entry of entryList.getEntries()) {
                    if (entry.name === 'first-contentful-paint') {
                        document.getElementById('fcp').textContent = Math.round(entry.startTime);
                    }
                }
            }).observe({type: 'paint', buffered: true});
            
            // Largest Contentful Paint
            new PerformanceObserver((entryList) => {
                const entries = entryList.getEntries();
                const lastEntry = entries[entries.length - 1];
                document.getElementById('lcp').textContent = Math.round(lastEntry.startTime);
            }).observe({type: 'largest-contentful-paint', buffered: true});
            
            // Cumulative Layout Shift
            let clsValue = 0;
            new PerformanceObserver((entryList) => {
                for (const entry of entryList.getEntries()) {
                    if (!entry.hadRecentInput) {
                        clsValue += entry.value;
                    }
                }
                document.getElementById('cls').textContent = clsValue.toFixed(3);
            }).observe({type: 'layout-shift', buffered: true});
            
            // Contar fuentes cargadas
            setTimeout(() => {
                const loadedFonts = document.fonts.size;
                document.getElementById('fonts').textContent = loadedFonts;
            }, 2000);
        });

        // Test de carga de fuentes
        document.fonts.ready.then(function() {
            console.log('Todas las fuentes han sido cargadas');
            console.log('Fuentes disponibles:', document.fonts.size);
            
            // Verificar cada fuente específica
            const fontsToCheck = [
                'Oswald',
                'Montserrat', 
                'Figtree'
            ];
            
            fontsToCheck.forEach(font => {
                if (document.fonts.check(`16px ${font}`)) {
                    console.log(`✓ ${font} cargada correctamente`);
                } else {
                    console.log(`✗ ${font} no está disponible`);
                }
            });
        });
    </script>
</body>
</html>
